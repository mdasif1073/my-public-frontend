<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Public Frontend</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; text-align: center; margin-top: 50px; background-color: #f5f7fa; color: #333; }
        h1 { color: #1a1a1a; }
        button { background-color: #007bff; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 16px; cursor: pointer; transition: background-color 0.2s; }
        button:hover { background-color: #0056b3; }
        #data-container { margin-top: 25px; padding: 20px; background-color: white; border-radius: 8px; display: inline-block; box-shadow: 0 4px 8px rgba(0,0,0,0.1); min-width: 300px; }
        .loading { color: #777; }
        .error { color: #d93025; }
    </style>
</head>
<body>

    <h1>Public Frontend served from GitHub</h1>
    <p>Click the button to fetch live data from the VPS backend.</p>
    <button id="fetch-button">Get Data from Backend</button>

    <div id="data-container">
        <p>Data will appear here...</p>
    </div>

    <script>
        document.getElementById('fetch-button').addEventListener('click', () => {
            const dataContainer = document.getElementById('data-container');
            dataContainer.innerHTML = '<p class="loading">Loading...</p>';

            // --- IMPORTANT ---
            // This is the public URL for your backend API.
            // Replace <YOUR_VPS_IP_ADDRESS> with your IP.
            // ========================================================
            const apiUrl = 'https://api.mdasif-codes.me/api/data';

            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    dataContainer.innerHTML = `
                        <p><strong>Status:</strong> ${data.status}</p>
                        <p><strong>Message:</strong> ${data.message}</p>
                        <p><strong>Version:</strong> ${data.version}</p>
                    `;
                })
                .catch(error => {
                    dataContainer.innerHTML = `<p class="error"><strong>Error:</strong> Could not connect to the backend. Please check the API URL and CORS settings.</p>`;
                    console.error('Fetch error:', error);
                });
        });
    </script>

</body>
</html>